# Suno Trending Parser

Парсер трендовых треков с сайта [Suno](https://suno.com/trending).  
Скрипт автоматически собирает информацию о треках, скачивает аудиофайлы в формате MP3 и сохраняет все данные в базу SQLite.

## Возможности

- Ручной вход в аккаунт Suno (с поддержкой SMS-кода).
- Автоматический парсинг страницы трендов (до 50 треков).
- Извлечение точных данных: автор, название, ссылка на трек, количество прослушиваний.
- Переход на страницу каждого трека и поиск реальной ссылки на аудио (игнорируется заглушка `sil-100.mp3`).
- Сбор тегов стилей (preview и полный список).
- Скачивание аудиофайлов в папку `downloads/`.
- Сохранение данных в SQLite-базу `suno_trends.db` (таблица `tracks`).
- Защита от дубликатов: проверка уникальности по `track_url`.
- Автоматическое добавление недостающих колонок при обновлении схемы БД.
- Подробный лог процесса в консоли.

## Структура базы данных

Таблица `tracks`:

| Колонка         | Тип       | Описание                          |
|-----------------|-----------|-----------------------------------|
| `id`            | INTEGER   | Первичный ключ                    |
| `artist`        | TEXT      | Имя автора                        |
| `title`         | TEXT      | Название трека                    |
| `track_url`     | TEXT      | Уникальная ссылка на трек         |
| `audio_url`     | TEXT      | Прямая ссылка на аудиофайл        |
| `plays`         | INTEGER   | Количество прослушиваний          |
| `explicit`      | INTEGER   | Флаг explicit (0/1)               |
| `file_path`     | TEXT      | Путь к скачанному файлу           |
| `styles_preview`| TEXT      | Стили (краткий список)            |
| `styles_full`   | TEXT      | Стили (полный список)             |
| `created_at`    | TIMESTAMP | Дата добавления записи            |

## Требования

- Python 3.8 или выше
- Браузер Google Chrome (последняя версия)
- Учётная запись на [Suno](https://suno.com)

## Установка

1. **Клонируйте репозиторий:**
   ```bash
   git clone https://github.com/yourusername/suno-trending-parser.git
   cd suno-trending-parser
   ```

2. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
   ```

## Использование

```bash
python suno_trending_parser.py
```

После запуска скрипт откроет браузер Chrome и предложит войти в аккаунт Suno вручную:

1. Введите номер телефона в браузере.
2. Введите код из SMS.
3. После успешного входа вернитесь в консоль и нажмите **Enter**.

Далее скрипт автоматически соберёт данные, скачает аудиофайлы и сохранит всё в базу данных.

## Структура проекта

```
suno-trending-parser/
├── suno_trending_parser.py   # Основной скрипт
├── requirements.txt          # Зависимости
├── suno_trends.db            # База данных SQLite (создаётся автоматически)
└── downloads/                # Скачанные аудиофайлы (создаётся автоматически)
```

## Лицензия

MIT
